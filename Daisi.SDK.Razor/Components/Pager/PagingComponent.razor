@using Daisi.Protos.V1

<div class="input-group">
    @if(Paging.PageIndex > 0)
    {
        <button class="btn btn-outline-info" @onclick=@(async (_)=> await PageIndexChanged.InvokeAsync(--Paging.PageIndex))"><i class="fa-duotone fa-arrow-left"></i></button>
    }
    @if (PageCount > 1)
    {
        <span class="input-group-text user-select-none">Page @(Paging.PageIndex + 1) of @PageCount</span>
    }
    @if(((Paging.PageIndex + 1) * Paging.PageSize) < TotalCount )
    {
        <button class="btn btn-outline-info" @onclick=@(async (_) => await PageIndexChanged.InvokeAsync(++Paging.PageIndex))"><i class="fa-duotone fa-arrow-right"></i></button>

    }
</div>

@code {
    [Parameter] public PagingInfo Paging { get; set; }
    [Parameter] public int TotalCount { get; set; }
    [Parameter] public EventCallback<int> PageIndexChanged { get; set; }

    public int PageCount => (int)Math.Ceiling((double)TotalCount / (double)Paging.PageSize);

}
